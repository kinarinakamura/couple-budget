import{u as k,m as f,j as A,p as y,g as i,a as B,b as s,d as l,h as V,e as M,i as u,k as a,q as p,n as v,t as c,s as x,f as U,F as I,o as r}from"./app-clC7W-ix.js";const j={class:"min-h-screen bg-gradient-to-b from-blue-50 to-white"},q={class:"max-w-md mx-auto p-6"},D={class:"card bg-base-100 shadow-xl"},F={class:"card-body"},N={class:"form-control"},C={class:"relative"},T=["disabled"],O={key:0,class:"label"},S={class:"label-text-alt text-error"},z={key:0,class:"label"},E={class:"mt-4"},R={key:0,class:"badge badge-primary badge-sm"},G={key:0,class:"mt-4 bg-base-200 rounded-lg p-4"},H={class:"grid grid-cols-2 gap-3"},J={class:"form-control"},K={class:"form-control"},L={class:"form-control"},P={class:"form-control"},Q={class:"form-control col-span-2"},W={class:"card bg-base-100 shadow-xl"},X={class:"card-body"},Y={class:"space-y-2"},Z={class:"label cursor-pointer justify-start gap-4 border rounded-lg p-3 hover:bg-base-200 w-full"},$={class:"label cursor-pointer justify-start gap-4 border rounded-lg p-3 hover:bg-base-200 w-full"},ss={class:"label cursor-pointer justify-start gap-4 border rounded-lg p-3 hover:bg-base-200 w-full"},ts={key:0,class:"card bg-base-100 shadow-xl"},es={class:"card-body"},ls={class:"space-y-4"},os={class:"form-control"},as={class:"relative"},ns={key:0,class:"label"},is={class:"label-text-alt text-error"},rs={class:"form-control"},ds={class:"relative"},us={key:0,class:"label"},ps={class:"label-text-alt text-error"},ms={key:1,class:"card bg-base-100 shadow-xl"},bs={class:"card-body"},cs={class:"form-control"},vs={class:"flex items-center gap-3"},xs={class:"flex-1"},fs={key:0,class:"label"},ys={class:"label-text-alt text-error"},gs={class:"flex-1"},_s=["disabled"],hs={key:0,class:"loading loading-spinner loading-sm"},ks={__name:"Input",props:{previousInput:Object},setup(g){const b=g,e=k({expenses:b.previousInput?.expenses||null,splitMethod:b.previousInput?.splitMethod||"income",incomeA:b.previousInput?.incomeA||null,incomeB:b.previousInput?.incomeB||null,ratioA:b.previousInput?.ratioA||60,ratioB:b.previousInput?.ratioB||40}),d=f(!1),n=f({rent:null,utilities:null,food:null,communication:null,other:null}),_=A(()=>Object.values(n.value).reduce((m,t)=>m+(parseFloat(t)||0),0));y(_,m=>{d.value&&m>0&&(e.expenses=m)}),y(()=>e.ratioA,m=>{e.ratioB=100-m});const h=()=>{d.value=!d.value,d.value||(n.value={rent:null,utilities:null,food:null,communication:null,other:null})},w=()=>{e.post("/calculate")};return(m,t)=>(r(),i(I,null,[B(l(V),{title:"入力 - ふたり家計簿"}),s("div",j,[s("div",q,[t[35]||(t[35]=s("div",{class:"text-center mb-8 mt-8"},[s("h1",{class:"text-3xl font-bold text-blue-600 mb-2 font-display"}," ふたり家計簿 "),s("p",{class:"text-sm text-gray-600"}," 30秒で分かる、理想の分担方法 ")],-1)),s("form",{onSubmit:M(w,["prevent"]),class:"space-y-4"},[s("div",D,[s("div",F,[t[21]||(t[21]=s("h2",{class:"card-title text-lg"},"月の生活費",-1)),s("div",N,[t[15]||(t[15]=s("label",{class:"label"},[s("span",{class:"label-text font-medium"}," 月の生活費合計 ")],-1)),s("div",C,[a(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(e).expenses=o),disabled:d.value,type:"number",step:"0.1",min:"0.1",class:v(["input input-bordered w-full text-xl font-bold",{"bg-gray-100":d.value,"input-error":l(e).errors.expenses}]),placeholder:"30",required:""},null,10,T),[[p,l(e).expenses]]),l(e).errors.expenses?(r(),i("label",O,[s("span",S,c(l(e).errors.expenses),1)])):u("",!0),t[13]||(t[13]=s("span",{class:"absolute right-4 top-3 text-gray-500"}," 万円 ",-1))]),d.value?(r(),i("label",z,[...t[14]||(t[14]=[s("span",{class:"label-text-alt text-info"}," ※ 内訳から自動計算されます ",-1)])])):u("",!0)]),s("div",E,[s("button",{type:"button",onClick:h,class:"btn btn-ghost btn-sm w-full justify-between"},[s("span",null,c(d.value?"▲":"▼")+" 内訳を入力する（任意） ",1),d.value?u("",!0):(r(),i("span",R," より詳しく "))]),d.value?(r(),i("div",G,[s("div",H,[s("div",J,[t[16]||(t[16]=s("label",{class:"label py-1"},[s("span",{class:"label-text text-sm"},"家賃")],-1)),a(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value.rent=o),type:"number",step:"0.1",class:"input input-bordered input-sm",placeholder:"12"},null,512),[[p,n.value.rent]])]),s("div",K,[t[17]||(t[17]=s("label",{class:"label py-1"},[s("span",{class:"label-text text-sm"},"光熱費")],-1)),a(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.value.utilities=o),type:"number",step:"0.1",class:"input input-bordered input-sm",placeholder:"1.5"},null,512),[[p,n.value.utilities]])]),s("div",L,[t[18]||(t[18]=s("label",{class:"label py-1"},[s("span",{class:"label-text text-sm"},"食費")],-1)),a(s("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>n.value.food=o),type:"number",step:"0.1",class:"input input-bordered input-sm",placeholder:"8"},null,512),[[p,n.value.food]])]),s("div",P,[t[19]||(t[19]=s("label",{class:"label py-1"},[s("span",{class:"label-text text-sm"},"通信費")],-1)),a(s("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>n.value.communication=o),type:"number",step:"0.1",class:"input input-bordered input-sm",placeholder:"1.5"},null,512),[[p,n.value.communication]])]),s("div",Q,[t[20]||(t[20]=s("label",{class:"label py-1"},[s("span",{class:"label-text text-sm"},"その他")],-1)),a(s("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>n.value.other=o),type:"number",step:"0.1",class:"input input-bordered input-sm",placeholder:"7"},null,512),[[p,n.value.other]])])])])):u("",!0)])])]),s("div",W,[s("div",X,[t[25]||(t[25]=s("h2",{class:"card-title text-lg"},"分担方法",-1)),s("div",Y,[s("label",Z,[a(s("input",{type:"radio","onUpdate:modelValue":t[6]||(t[6]=o=>l(e).splitMethod=o),value:"income",class:"radio radio-primary flex-shrink-0"},null,512),[[x,l(e).splitMethod]]),t[22]||(t[22]=s("div",{class:"flex-1 min-w-0"},[s("div",{class:"font-medium"},"収入に応じて分担"),s("div",{class:"text-sm text-gray-500"}," 年収の比率で公平に分ける ")],-1))]),s("label",$,[a(s("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=o=>l(e).splitMethod=o),value:"equal",class:"radio radio-primary flex-shrink-0"},null,512),[[x,l(e).splitMethod]]),t[23]||(t[23]=s("div",{class:"flex-1 min-w-0"},[s("div",{class:"font-medium"},"均等に分担（50:50）"),s("div",{class:"text-sm text-gray-500"}," シンプルに半分ずつ ")],-1))]),s("label",ss,[a(s("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=o=>l(e).splitMethod=o),value:"custom",class:"radio radio-primary flex-shrink-0"},null,512),[[x,l(e).splitMethod]]),t[24]||(t[24]=s("div",{class:"flex-1 min-w-0"},[s("div",{class:"font-medium"},"カスタム（割合を指定）"),s("div",{class:"text-sm text-gray-500"}," 自分で好きな比率を設定 ")],-1))])])])]),l(e).splitMethod==="income"?(r(),i("div",ts,[s("div",es,[t[30]||(t[30]=s("h2",{class:"card-title text-lg"},"年収を入力",-1)),s("div",ls,[s("div",os,[t[27]||(t[27]=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Aさんの年収")],-1)),s("div",as,[a(s("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l(e).incomeA=o),type:"number",min:"1",class:v(["input input-bordered w-full",{"input-error":l(e).errors.incomeA}]),placeholder:"400",required:""},null,2),[[p,l(e).incomeA]]),l(e).errors.incomeA?(r(),i("label",ns,[s("span",is,c(l(e).errors.incomeA),1)])):u("",!0),t[26]||(t[26]=s("span",{class:"absolute right-4 top-3 text-gray-500"}," 万円/年 ",-1))])]),s("div",rs,[t[29]||(t[29]=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Bさんの年収")],-1)),s("div",ds,[a(s("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l(e).incomeB=o),type:"number",min:"1",class:v(["input input-bordered w-full",{"input-error":l(e).errors.incomeB}]),placeholder:"300",required:""},null,2),[[p,l(e).incomeB]]),l(e).errors.incomeB?(r(),i("label",us,[s("span",ps,c(l(e).errors.incomeB),1)])):u("",!0),t[28]||(t[28]=s("span",{class:"absolute right-4 top-3 text-gray-500"}," 万円/年 ",-1))])])])])])):u("",!0),l(e).splitMethod==="custom"?(r(),i("div",ms,[s("div",bs,[t[34]||(t[34]=s("h2",{class:"card-title text-lg"},"分担比率を設定",-1)),s("div",cs,[s("div",vs,[s("div",xs,[t[31]||(t[31]=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Aさんの比率")],-1)),a(s("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>l(e).ratioA=o),type:"number",min:"0",max:"100",class:v(["input input-bordered w-full text-center",{"input-error":l(e).errors.ratioA}])},null,2),[[p,l(e).ratioA,void 0,{number:!0}]]),l(e).errors.ratioA?(r(),i("label",fs,[s("span",ys,c(l(e).errors.ratioA),1)])):u("",!0)]),t[33]||(t[33]=s("span",{class:"text-2xl font-bold"},":",-1)),s("div",gs,[t[32]||(t[32]=s("label",{class:"label"},[s("span",{class:"label-text font-medium"},"Bさんの比率")],-1)),a(s("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>l(e).ratioB=o),type:"number",min:"0",max:"100",class:"input input-bordered w-full text-center",disabled:""},null,512),[[p,l(e).ratioB,void 0,{number:!0}]])])])])])])):u("",!0),s("button",{type:"submit",disabled:l(e).processing,class:"btn btn-primary btn-lg w-full"},[l(e).processing?(r(),i("span",hs)):u("",!0),U(" "+c(l(e).processing?"計算中...":"結果を見る"),1)],8,_s)],32)])])],64))}};export{ks as default};
